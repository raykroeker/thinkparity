/*
 * Created on October 20, 2006, 4:20 PM
 */
package com.thinkparity.cordelia.ui.application.admin.avatar.user;

import java.util.List;

import javax.swing.DefaultListModel;

import com.thinkparity.codebase.model.user.User;

import com.thinkparity.cordelia.ui.application.admin.AdminApplication;
import com.thinkparity.cordelia.ui.application.admin.avatar.AvatarId;
import com.thinkparity.cordelia.ui.application.admin.provider.user.UserTabProvider;
import com.thinkparity.cordelia.ui.avatar.CordeliaAvatar;

/**
 * @author raymond@thinkparity.com
 * @version 1.1.2.1
 */
public final class UserTabAvatar extends CordeliaAvatar<AdminApplication, UserTabProvider> {

    /** The <code>AdminApplication</code>. */
    private AdminApplication application;

    /** The data <code>Provider</code>. */
    private final UserTabProvider provider;

    /** The user list <code>DefaultListModel</code>. */
    private final DefaultListModel userModel;

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel headerJPanel;
    private javax.swing.JLabel summaryJLabel;
    private javax.swing.JList userJList;
    private javax.swing.JScrollPane userJScrollPane;
    // End of variables declaration//GEN-END:variables
    
    /**
     * Create UserTab.
     * 
     */
    public UserTabAvatar() {
        super(AvatarId.USER_TAB);
        this.provider = new UserTabProvider();
        this.userModel = new DefaultListModel();
        initComponents();
    }

    /**
     * @see com.thinkparity.codebase.ui.avatar.Avatar#getApplication()
     * 
     */
    public AdminApplication getApplication() {
        return application;
    }

    /**
     * @see com.thinkparity.codebase.ui.avatar.Avatar#reload()
     * 
     */
    public void reload() {
        reloadUsers();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc=" Generated Code ">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        headerJPanel = new javax.swing.JPanel();
        summaryJLabel = new javax.swing.JLabel();
        userJScrollPane = new javax.swing.JScrollPane();
        userJList = new javax.swing.JList();

        setLayout(new java.awt.GridBagLayout());

        java.util.ResourceBundle bundle = java.util.ResourceBundle.getBundle("internationalization/CordeliaUI_Messages"); // NOI18N
        summaryJLabel.setText(bundle.getString("UserTabAvatar.summaryJLabel")); // NOI18N

        org.jdesktop.layout.GroupLayout headerJPanelLayout = new org.jdesktop.layout.GroupLayout(headerJPanel);
        headerJPanel.setLayout(headerJPanelLayout);
        headerJPanelLayout.setHorizontalGroup(
            headerJPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(0, 357, Short.MAX_VALUE)
            .add(summaryJLabel)
        );
        headerJPanelLayout.setVerticalGroup(
            headerJPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(0, 15, Short.MAX_VALUE)
            .add(summaryJLabel)
        );
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(15, 0, 15, 0);
        add(headerJPanel, gridBagConstraints);

        userJList.setModel(userModel);
        userJList.setCellRenderer(new UserRenderer());
        userJScrollPane.setViewportView(userJList);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 15, 0, 15);
        add(userJScrollPane, gridBagConstraints);

    }// </editor-fold>//GEN-END:initComponents

    private void reloadUsers() {
        userModel.clear();
        final List<User> users = provider.readUsers();
        for (final User user : users) {
            userModel.addElement(user);
        }
    }
}
